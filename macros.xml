<?xml version="1.0"?>
<macros>
    <token name="@VERSION@">0.25.1</token>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="@VERSION@">kb-python</requirement>
        </requirements>
    </xml>
    <xml name="citations">
        <citations>
            <citation type="doi">add citation</citation>
        </citations>
    </xml>
    <xml name="index">
        <conditional name="refTranscriptSource">
            <param name="TranscriptSource" type="select" label="Select a reference transcriptome from your history or use a built-in index?"
                help="Pre-built-indices were downloaded on March 17th 2021">
                <option value="indexed">Use a built-in index</option>
                <option value="history" selected="True">Use one from the history</option>
            </param>
            <when value="indexed">
                <param name="index" type="select" label="Select a reference index" help="If your species of interest is not listed, contact your Galaxy admin">
                    <options from_data_table="kallisto_indexes_versioned" />
                </param>
            </when>  <!-- build-in -->
            <when value="history">
                <section name="s_index" title="Kallisto index" expanded="true">
                    <param name="genomic_fasta" type="data" format="fasta" label="Genomic fasta file"/>
                    <param name="genomic_gtf" type="data" format="gtf" label="Genomic gtf file"/>
                </section>
            </when>
        </conditional>
    </xml>
</macros>
